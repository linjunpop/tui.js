// Generated by CoffeeScript 1.6.2
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  this.TuiKit = (function() {
    var apiUrl;

    apiUrl = "http://api.tui.dev/";

    function TuiKit(projectID, projectSecretKey) {
      this.projectID = projectID;
      this.projectSecretKey = projectSecretKey;
      this.createMessage = __bind(this.createMessage, this);
      this.deleteDevice = __bind(this.deleteDevice, this);
      this.updateDevice = __bind(this.updateDevice, this);
      this.createDevice = __bind(this.createDevice, this);
      this.getGroup = __bind(this.getGroup, this);
    }

    TuiKit.prototype.getGroup = function(groupName) {
      var resourcePath;

      resourcePath = "groups/" + groupName;
      return this.sendRequest(resourcePath, 'GET');
    };

    TuiKit.prototype.createDevice = function(device) {
      var resourcePath;

      resourcePath = "devices";
      return this.sendRequest(resourcePath, 'POST', {
        "device": device
      });
    };

    TuiKit.prototype.updateDevice = function(deviceToken, device) {
      var resourcePath;

      resourcePath = "devices/" + deviceToken;
      return this.sendRequest(resourcePath, 'PUT', {
        "device": device
      });
    };

    TuiKit.prototype.deleteDevice = function(deviceToken) {
      var resourcePath;

      resourcePath = "devices/" + deviceToken;
      return this.sendRequest(resourcePath, 'DELETE');
    };

    TuiKit.prototype.createMessage = function(message) {
      var resourcePath;

      resourcePath = "messages";
      return this.sendRequest(resourcePath, 'POST', {
        "message": message
      });
    };

    TuiKit.prototype.sendRequest = function(resourcePath, type, data) {
      var client;

      client = new XMLHttpRequest();
      client.open(type, "" + apiUrl + "/" + resourcePath, false);
      client.setRequestHeader("Content-Type", "application/json");
      client.setRequestHeader("Accept", "application/vnd.tui+json;.version=1");
      client.setRequestHeader("X-Project-ID", this.projectID);
      client.setRequestHeader("X-Project-API-Secret-Key", this.projectSecretKey);
      client.send(JSON.stringify(data));
      return client;
    };

    return TuiKit;

  })();

}).call(this);
